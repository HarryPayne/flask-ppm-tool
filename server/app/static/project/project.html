<html>
  <head></head>
  <body>
    <ul class="row list-inline text-right col-lg-8 clearfix">
      <li ng-show="project.ds.currentMode() == 'view' && (currentUser.roles.indexOf('Curator') > -1 || currentUser.roles.indexOf('Manager') > -1)">
        <a ui-sref="project.edit" ng-click="project.changeMode();">Edit this project</a>
      </li>
      <li ng-show="project.ds.currentMode() != 'view' && (currentUser.roles.indexOf('Curator') > -1 || currentUser.roles.indexOf('Manager') > -1)">
        <a ui-sref="project.detail" ng-click="project.changeMode();">View this project</a>
      </li>
      <li ng-show="project.ds.currentMode() != 'comment' && (currentUser.roles.indexOf('Curator') > -1 || currentUser.roles.indexOf('Manager') > -1)">
        <a ui-sref="project.comment" ng-click="project.jumpToCommentEntry();">Add a Comment</a>
      </li>
      <li ng-show="project.ds.currentMode() == 'comment' && (currentUser.roles.indexOf('Curator') > -1 || currentUser.roles.indexOf('Manager') > -1)">
        Add a Comment
      </li>
      <li ng-show="project.ds.currentMode() != 'attach' && (currentUser.roles.indexOf('Curator') > -1 || currentUser.roles.indexOf('Manager') > -1)">
        <a ui-sref="project.attach" ng-click="project.jumpToAtachFile();">Attach a File</a>
      </li>
      <li ng-show="project.ds.currentMode() == 'attach' && (currentUser.roles.indexOf('Curator') > -1 || currentUser.roles.indexOf('Manager') > -1)">
        Attach a File
      </li>
    </ul>

    <h3 class="clearfix">{{ project.masterList().projectID}}: {{project.masterList().projectName}}</h3>

    <div ng-show="project.currentMode() == 'view'">
      <dl class="dl-horizontal"
        ng-repeat="attr in project.as.getProjectAttributes()" 
        ng-include src="'static/project/view-field.html'">
      </dl>
    </div>

    <div ng-show="project.currentMode() == 'edit'">
      <dl class="dl-horizontal"
        ng-repeat="attr in project.as.getProjectAttributes()" 
        ng-include src="'static/project/edit-field.html'">
      </dl>
      <button type="button" ng-click="project.ds.saveProject()"> Save </button>
    </div>

    <div ng-show="project.currentMode() == 'comment'">
      Enter a comment
    </div>
    <div ng-show="project.currentMode() == 'attach'">
      Attach a file
    </div>
  </body>
</html>
