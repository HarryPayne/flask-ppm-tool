  <h4 ng-show="project.currentMode() == 'view' || project.currentMode() == 'edit.comment'">Comments</h4>
  
  <dl class="dl-horizontal"
    ng-show="project.currentMode() == 'view'"
    ng-repeat="comment in project.as.getRawAttributes('comment')">
    <dt>
      <label ng-bind="comment['commentAuthor']"></label><br/>
    </dt>
    <dd>
      <span ng-bind="comment['comment']"></span><br/>
      Entered at <span ng-bind="comment['commentAuthored.printValue']"></span>
    </dd>
  </dl>

  <dl class="dl-horizontal"
    ng-show="project.currentMode() == 'edit.comment'"
    ng-repeat="comment in project.as.getRawAttributes('comment')">

    <dt>
      <label ng-bind="comment['commentAuthor']"></label>
    </dt>

    <dd ng-hide="showDetails">
      <span ng-bind="comment['comment']"></span><br/>
      Authored <span ng-bind="comment['commentAuthored.printValue']"></span><br>
      Last edited by <span ng-bind="comment['commentEditor']"></span> on <span ng-bind="comment['commentEdited.printValue']"></span>
      <button type="button" 
        ng-click="showDetails = !showDetails; project.as.showDetails('comment', 
                                                [{name: 'commentID', id: comment['commentID']}])"> Edit </button>
    </dd>

    <dd ng-show="showDetails">
      <textarea rows="8" cols="80"
        class="form-control col-lg-4"
        ng-model="project.as.getAttribute('comment').value"
        ng-bind="project.as.getAttribute('comment').value"></textarea>
      Entered at <span ng-bind="comment['commentAuthored.printValue']"></span><br/>
      Last edited by <span ng-bind="comment['commentEditor']"></span> on <span ng-bind="comment['commentEdited.printValue']"></span>
      <button type="button" ng-click="showDetails = !showDetails"> Hide </button>
      <button type="button" ng-show="showDetails" ng-click="project.ds.saveProject('comment', [project.as.getAttribute('commentID')])"> Save </button>
    </dd>
  </dl>

